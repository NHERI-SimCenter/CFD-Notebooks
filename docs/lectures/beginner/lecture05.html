

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lecture 05: snappyHexMesh &mdash; CFD-Notebooks 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Intermediate lectures" href="../intermediate.html" />
    <link rel="prev" title="Lecture 04: blockMesh" href="lecture04.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/CFDN.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../geninfo/acknowledgement.html">1. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geninfo/about.html">2. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geninfo/getting-started.html">3. Getting started with CFDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geninfo/errors.html">4. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../geninfo/copyright.html">5. Copyright and License</a></li>
</ul>
<p class="caption"><span class="caption-text">Lecture notebooks</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../beginner.html">1. Beginner lectures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../beginner.html#learning-objectives">1.1. Learning objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../beginner.html#pre-requisites">1.2. Pre-requisites</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../beginner.html#lecture-notebooks-theory">1.3. Lecture notebooks (Theory)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lecture01.html">Lecture 01: Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture02.html">Lecture 02: Files and solvers</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture03.html">Lecture 03: Boundary conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="lecture04.html">Lecture 04: blockMesh</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lecture 05: snappyHexMesh</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dictionary-and-folders">Dictionary and folders</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-the-mesh">Creating the mesh</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../beginner.html#references">1.4. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../intermediate.html">2. Intermediate lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced.html">3. Advanced lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../professional.html">4. Professional lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../practice-probs.html">5. Practice Problems</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">CFD-Notebooks</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../beginner.html"><span class="section-number">1. </span>Beginner lectures</a> &raquo;</li>
        
      <li>Lecture 05: snappyHexMesh</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lecture-05-snappyhexmesh">
<span id="lbl-lecture05"></span><h1>Lecture 05: snappyHexMesh<a class="headerlink" href="#lecture-05-snappyhexmesh" title="Permalink to this headline">¶</a></h1>
<p>In the case of flow around complex geometries, the geometries are defined through CAD models. In this case, OpenFOAM has the capability to read Stereolithography (STL) or Wavefront Object (OBJ) formats. In this case, the <code class="docutils literal notranslate"><span class="pre">blockMesh</span></code> utility is insufficient to mesh such complex geometries. Here, OpenFOAM offers a more suitable utility known as the <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code>.</p>
<p>STL and OBJ CAD files depict the CAD geomeetry in terms of triangulated surfaces. The <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code> utility of OpenFOAM generates three-dimensional meshes containing hexahedra (hex) and split-hexahedra (split-hex) automatically from triangulated surface geometries. To start with the mesh approximately conforms (or snaps) to the surface and is refined by splitting the hex mesh to fit the surface. Additionally, this utility also runs in parallel with a load balancing step during each iteration. The below figure provides a brief outlook into the refinement process of <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code>.</p>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../../_images/snappyHexRefine.png"><img alt="alternate text" src="../../_images/snappyHexRefine.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Overview of the process involved in <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code>.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="dictionary-and-folders">
<h2>Dictionary and folders<a class="headerlink" href="#dictionary-and-folders" title="Permalink to this headline">¶</a></h2>
<p>The geometry is provided in terms of an STL file. The STL geometry can be generated from any standard geometry (or CAD) modeling software. The STL file can be made up of single surface or multiple surfaces tha describe the geometry. Each of these surfaces are further triangulated. It is preferred to have multiple surfaces as local refinement can be employed to gain more control over the meshng procedure. The STL geometry file is stored in the directory <code class="docutils literal notranslate"><span class="pre">constant/triSurface</span></code>.</p>
<p>All the parameters related to the meshing utility <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code> are given in the file <code class="docutils literal notranslate"><span class="pre">snappyHexMeshDict</span></code> located in the directory <code class="docutils literal notranslate"><span class="pre">system</span></code>. The castellation, snapping, and boundary layer meshing steps are controlled by the dictionary <code class="docutils literal notranslate"><span class="pre">snappyHexMeshDict</span></code>. The final mesh should be always located in the directory <code class="docutils literal notranslate"><span class="pre">constant/polyMesh</span></code>.</p>
<p>Before looking at the process of mesh generation, let us explore the <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code> dictionary file. The file is made up of five primary sections. Each section controls one part of the meshing process. Overall, there are over 50 parameters to set in the <code class="docutils literal notranslate"><span class="pre">snappyHexMeshDict</span></code> and lack of GUI can be confusing at times to generate these files. However, once there are a robust set of parameters, the <code class="docutils literal notranslate"><span class="pre">snappyHexMesh</span></code> utility does a great job of generating hexahedron dominated meshes. The general outline of the <code class="docutils literal notranslate"><span class="pre">snappyHexMeshdict</span></code> is as shown below and the upcoming sections will highlight each of the sections in detail.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">castellatedMesh</span> <span class="nb">true</span><span class="p">;</span>
<span class="n">snap</span> <span class="nb">true</span><span class="p">;</span>
<span class="n">addLayers</span> <span class="nb">true</span><span class="p">;</span>

<span class="n">geometry</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="n">castellatedMeshControls</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="n">snapControls</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="n">addLayersControls</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
<span class="p">}</span>

<span class="n">meshQualityControls</span>
<span class="p">{</span>
    <span class="p">...</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first section of textbf{geometry} outlines the geometric parameters. Here, the section highlights the STL geometry to be used and its location, geometric entities required to create regions, refine mesh and other operation. It is important to note here that multiple STL geometries can be used. This is rather recommended when regional refinements are being used. The STL geometries are located in the directory <code class="docutils literal notranslate"><span class="pre">constant/triSurface</span></code>. The structure of the textbf{geometry} section is as given below:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">geometry</span>
<span class="p">{</span>
    <span class="c1">// STL file to be read</span>
    <span class="n">geometry</span><span class="p">.</span><span class="n">stl</span>
    <span class="p">{</span>
        <span class="n">type</span> <span class="n">triSurfaceMesh</span><span class="p">;</span>
        <span class="n">name</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-the-mesh">
<h2>Creating the mesh<a class="headerlink" href="#creating-the-mesh" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, SimCenter

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>